{"title":"小程序","uid":"cc519f18fc7027e7d44b9a0621d59e8e","slug":"小程序分享朋友圈功能","date":"2022-06-12T13:44:15.000Z","updated":"2022-06-12T13:44:51.721Z","comments":true,"path":"api/articles/小程序分享朋友圈功能.json","keywords":null,"cover":"static\\img\\photo-1571361656693-d7602246ce3c.jpg","content":"<h3 id=\"小程序分享朋友圈功能\"><a href=\"#小程序分享朋友圈功能\" class=\"headerlink\" title=\"小程序分享朋友圈功能\"></a>小程序分享朋友圈功能</h3><p>小程序页面默认不可被分享到朋友圈，开发者需主动设置“分享到朋友圈”。页面允许被分享到朋友圈，需满足两个条件：</p>\n<ol>\n<li>首先，页面需设置允许“发送给朋友”。具体参考 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onShareAppMessage-Object-object\"><code>Page.onShareAppMessage</code></a> 接口文档</li>\n<li>满足条件 1 后，页面需设置允许“分享到朋友圈”，同时可自定义标题、分享图等。具体参考 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onShareTimeline\"><code>Page.onShareTimeline</code></a> 接口文档</li>\n</ol>\n<p><strong>showShareMenu</strong></p>\n<p>支持<strong>快速分享到朋友圈</strong>使用默认小程序标题，分享图为小程序logo，不可自定义参数</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">uni.showShareMenu(&#123;\n  menus: [&#39;shareAppMessage&#39;, &#39;shareTimeline&#39;] &#x2F;&#x2F;shareAppMessage必须得有\n&#125;)</code></pre>\n\n<p><strong>onShareTimeline</strong></p>\n<p>支持<strong>自定义分享到朋友圈</strong>的小程序标题、分享图，自定义query参数</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F;注意必须得设置允许“发送给朋友”onShareAppMessage，是设置onShareTimeline的前提，否则不支持分享到朋友圈\nonShareAppMessage: () &#x3D;&gt; &#123;\n&#125;,\nonShareTimeline: () &#x3D;&gt; &#123;\n  return &#123;\n    title: &quot;测试小程序朋友圈分享&quot;,\n    query: &quot;id&#x3D;110101&amp;name&#x3D;heyzqt&quot;,\n    imageUrl: &quot;https:&#x2F;&#x2F;example.cn&#x2F;test.png&quot;\n  &#125;\n&#125;,</code></pre>\n\n","feature":true,"text":"小程序分享朋友圈功能小程序页面默认不可被分享到朋友圈，开发者需主动设置“分享到朋友圈”。页面允许被分享到朋友圈，需满足两个条件： 首先，页面需设置允许“发送给朋友”。具体参考 Page.onShareAppMessage 接口文档 满足条件 1 后，页面需设置允许“分享到朋友圈”...","link":"","photos":[],"count_time":{"symbolsCount":783,"symbolsTime":"1 mins."},"categories":[{"name":"技术","slug":"技术","count":14,"path":"api/categories/技术.json"}],"tags":[{"name":"小程序","slug":"小程序","count":1,"path":"api/tags/小程序.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%88%86%E4%BA%AB%E6%9C%8B%E5%8F%8B%E5%9C%88%E5%8A%9F%E8%83%BD\"><span class=\"toc-text\">小程序分享朋友圈功能</span></a></li></ol>","author":{"name":"小提琴","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"我见青山多妩媚，料青山、见我应如是。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"ReactHooks","uid":"316ea3df3f075543c59a5d1fe255bb06","slug":"ReactHooks","date":"2022-06-13T14:29:12.000Z","updated":"2022-06-13T14:30:19.309Z","comments":true,"path":"api/articles/ReactHooks.json","keywords":null,"cover":"static\\img\\photo-1591693117893-7cbfc0a7ac69.jpg","text":"ReactHookshooks优点: 高阶组件为了复用，导致代码层级复杂 生命周期的复杂 写成functional组件,无状态组件 ，因为需要状态，又改成了class,成本高 不存在生命周期，所以不要把 Class Component 的生命周期概念搬过来试图对号入座 &#x2F...","link":"","photos":[],"count_time":{"symbolsCount":"5.6k","symbolsTime":"5 mins."},"categories":[{"name":"技术","slug":"技术","count":14,"path":"api/categories/技术.json"}],"tags":[{"name":"ES6","slug":"ES6","count":6,"path":"api/tags/ES6.json"},{"name":"JavaScript","slug":"JavaScript","count":8,"path":"api/tags/JavaScript.json"},{"name":"React","slug":"React","count":1,"path":"api/tags/React.json"}],"author":{"name":"小提琴","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"我见青山多妩媚，料青山、见我应如是。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"Vue自定义指令","uid":"8c91c7fcf700c42b838e9d1e512a6e9a","slug":"Vue自定义指令","date":"2022-06-12T13:21:42.000Z","updated":"2022-06-12T13:46:00.948Z","comments":true,"path":"api/articles/Vue自定义指令.json","keywords":null,"cover":"static\\img\\photo-1516166328576-82e16a127024.jpg","text":"Vue自定义指令Vue自定义指令有全局注册和局部注册两种方式 全局注册通过Vue.directive(id,[definition]) 局部注册通过directives注册指令 &#x2F;&#x2F; 全局注册 &#x2F;&#x2F; src&#x2F;main.js imp...","link":"","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"技术","slug":"技术","count":14,"path":"api/categories/技术.json"}],"tags":[{"name":"ES6","slug":"ES6","count":6,"path":"api/tags/ES6.json"},{"name":"JavaScript","slug":"JavaScript","count":8,"path":"api/tags/JavaScript.json"},{"name":"vue","slug":"vue","count":3,"path":"api/tags/vue.json"}],"author":{"name":"小提琴","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"我见青山多妩媚，料青山、见我应如是。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}