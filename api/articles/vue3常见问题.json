{"title":"VUE3常见问题","uid":"cbcf247411f454efb731cce7310ad955","slug":"vue3常见问题","date":"2022-05-13T12:46:25.000Z","updated":"2022-10-31T15:08:22.726Z","comments":true,"path":"api/articles/vue3常见问题.json","keywords":null,"cover":"static\\img\\photo-1571361656693-d7602246ce3c.jpg","content":"<h2 id=\"vue3常见问题\"><a href=\"#vue3常见问题\" class=\"headerlink\" title=\"vue3常见问题\"></a>vue3常见问题</h2><h5 id=\"在vue3中使用reactive函数声明数组如何正确赋值响应式\"><a href=\"#在vue3中使用reactive函数声明数组如何正确赋值响应式\" class=\"headerlink\" title=\"在vue3中使用reactive函数声明数组如何正确赋值响应式\"></a>在vue3中使用reactive函数声明数组如何正确赋值响应式</h5><ol>\n<li><p>vue3中使用proxy代理,对于对象数组都不能直接整个赋值</p>\n</li>\n<li><p>具体原因: reactive声明的响应式对象被arr代理,操作代理对象需要有代理对象的前缀,直接覆盖会丢失响应式</p>\n</li>\n<li><p>解决方案:</p>\n</li>\n<li><p>创建一个响应式对象,对象的属性是数组</p>\n  <pre class=\"line-numbers language-none\"><code class=\"language-none\">const state &#x3D; reactive(&#123;\n  arr: []\n&#125;)\n</code></pre></li>\n<li><p>使用ref函数</p>\n  <pre class=\"line-numbers language-none\"><code class=\"language-none\">const state &#x3D; ref([])\nstate.value &#x3D; [1,2,3]</code></pre></li>\n<li><p>使用数组的push方法</p>\n  <pre class=\"line-numbers language-none\"><code class=\"language-none\">const arr &#x3D; reactive([])\narr.push(...[1,2,3])</code></pre>\n<h5 id=\"script-setup语法糖中reactive-toRefs-解构\"><a href=\"#script-setup语法糖中reactive-toRefs-解构\" class=\"headerlink\" title=\"script setup语法糖中reactive + toRefs + 解构\"></a>script setup语法糖中reactive + toRefs + 解构</h5></li>\n<li><p>使用了reactive声明对象在模板上响应式使用,不使用setup语法糖可以使用toRefs配合return解构出去</p>\n</li>\n<li><p>使用setup语法糖可以不用解构</p>\n  <pre class=\"line-numbers language-none\"><code class=\"language-none\">let state &#x3D; reactive(&#123;\ntotal: 0,\nstars: Array&lt;Star&gt;()\n&#125;)</code></pre>\n<h5 id=\"OptionsApi-与CompositionApi如何选择及混用是否对性能有影响\"><a href=\"#OptionsApi-与CompositionApi如何选择及混用是否对性能有影响\" class=\"headerlink\" title=\"OptionsApi 与CompositionApi如何选择及混用是否对性能有影响\"></a>OptionsApi 与CompositionApi如何选择及混用是否对性能有影响</h5></li>\n</ol>\n<p>使用vue3并不是都有遵循optionsApi形式<br>vue3是兼容vue2语法的<br>compositionApi主要是解决逻辑抽象和复用问题,但不意味着它成了vue3标准<br>如何使用optionsapi和compositionapi主要看业务逻辑的复杂程序<br>它们对性能是不会有影响的</p>\n<h5 id=\"vue3全局挂载问题\"><a href=\"#vue3全局挂载问题\" class=\"headerlink\" title=\"vue3全局挂载问题\"></a>vue3全局挂载问题</h5><p>在vue2中挂载全局变量方法是通过Vue.prototype原行挂载<br>而在vue3中是无法使用的vue3没有this指向<br>挂载全局变量方法是通过app.config.globalProperties进行挂载<br>在需要的vue实例中引入 getCurrentInstance</p>\n<h5 id=\"ref错误\"><a href=\"#ref错误\" class=\"headerlink\" title=\"ref错误\"></a>ref错误</h5><p>Type ‘boolean’ is not assignable to type ‘Ref<boolean>‘<br>类型boolean不可以分配给Ref<boolean><br>不是ts类型的问题，是vue3的ref响应式需要加value才是真正的值，ref返回的是个对象</p>\n<h5 id=\"输入一个url之后\"><a href=\"#输入一个url之后\" class=\"headerlink\" title=\"输入一个url之后\"></a>输入一个url之后</h5><p>1.首先会进行dns解析 将域名转为ip地址</p>\n<ul>\n<li>查找浏览器缓存</li>\n<li>系统缓存</li>\n<li>路由缓存</li>\n<li>网络运营缓存</li>\n<li>找不到进行递归搜索  www blog.baidu.com</li>\n<li>com域名下查找</li>\n<li>baidu域名下查找</li>\n<li>blogg域名查找</li>\n<li>出错</li>\n</ul>\n<p>2.建立TCP连接,三次握手</p>\n<ul>\n<li>第一次握手,浏览器向服务器发起,将要请求</li>\n<li>第二次握手,由服务器发起,准备接收</li>\n<li>第三次握手,由浏览器发起告诉服务器发送请求</li>\n</ul>\n<p>3.发起请求</p>\n<p>4.接受响应</p>\n<p>5.渲染页面</p>\n<ul>\n<li>解析html生成dom树</li>\n<li>解析css树生成cssom树</li>\n<li>解析Javascript处理代码</li>\n</ul>\n<p>6.断开连接 TCP四次挥手 </p>\n<ul>\n<li>浏览器发起,发送给服务器,告之服务器准备关闭</li>\n<li>服务器发起,告知浏览器,消息接收完毕,准备关闭</li>\n<li>服务器发起,告知浏览器已经发送完毕,关闭</li>\n<li>浏览器关闭</li>\n</ul>\n","text":"vue3常见问题在vue3中使用reactive函数声明数组如何正确赋值响应式 vue3中使用proxy代理,对于对象数组都不能直接整个赋值 具体原因: reactive声明的响应式对象被arr代理,操作代理对象需要有代理对象的前缀,直接覆盖会丢失响应式 解决方案: 创建一个响应...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"技术","slug":"技术","count":21,"path":"api/categories/技术.json"}],"tags":[{"name":"Vue","slug":"Vue","count":4,"path":"api/tags/Vue.json"},{"name":"JavaScript","slug":"JavaScript","count":11,"path":"api/tags/JavaScript.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#vue3%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">vue3常见问题</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E5%9C%A8vue3%E4%B8%AD%E4%BD%BF%E7%94%A8reactive%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E6%95%B0%E7%BB%84%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E8%B5%8B%E5%80%BC%E5%93%8D%E5%BA%94%E5%BC%8F\"><span class=\"toc-text\">在vue3中使用reactive函数声明数组如何正确赋值响应式</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#script-setup%E8%AF%AD%E6%B3%95%E7%B3%96%E4%B8%ADreactive-toRefs-%E8%A7%A3%E6%9E%84\"><span class=\"toc-text\">script setup语法糖中reactive + toRefs + 解构</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#OptionsApi-%E4%B8%8ECompositionApi%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E5%8F%8A%E6%B7%B7%E7%94%A8%E6%98%AF%E5%90%A6%E5%AF%B9%E6%80%A7%E8%83%BD%E6%9C%89%E5%BD%B1%E5%93%8D\"><span class=\"toc-text\">OptionsApi 与CompositionApi如何选择及混用是否对性能有影响</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#vue3%E5%85%A8%E5%B1%80%E6%8C%82%E8%BD%BD%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">vue3全局挂载问题</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#ref%E9%94%99%E8%AF%AF\"><span class=\"toc-text\">ref错误</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E8%BE%93%E5%85%A5%E4%B8%80%E4%B8%AAurl%E4%B9%8B%E5%90%8E\"><span class=\"toc-text\">输入一个url之后</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"小提琴","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"我见青山多妩媚，料青山、见我应如是。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Vue状态管理","uid":"32bd86f22c17318130c6bcbe5d782d40","slug":"Vue状态管理","date":"2022-05-13T12:46:25.000Z","updated":"2022-10-31T15:08:32.253Z","comments":true,"path":"api/articles/Vue状态管理.json","keywords":null,"cover":"static\\img\\photo-1571361656693-d7602246ce3c.jpg","text":"Vue状态管理vuex是专门在 Vue 中实现集中式状态管理的一个 Vue 插件,对 vue 应用中多个组件的共享状态进行集中式的管理,也是一种组件间通信的方式，且适用于任意组件间通信。 pinia是vuex的替代者,是一个全新的状态管理工具,它支持ts,体积很小,轻量级,适用于...","link":"","photos":[],"count_time":{"symbolsCount":"5.7k","symbolsTime":"5 mins."},"categories":[{"name":"技术","slug":"技术","count":21,"path":"api/categories/技术.json"}],"tags":[{"name":"Vue","slug":"Vue","count":4,"path":"api/tags/Vue.json"},{"name":"JavaScript","slug":"JavaScript","count":11,"path":"api/tags/JavaScript.json"}],"author":{"name":"小提琴","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"我见青山多妩媚，料青山、见我应如是。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{}}